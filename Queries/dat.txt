1/ Now playing
After logged in as customer => be taken to this window => list out all the movies in theaters now

SELECT DISTINCT playsat.title FROM playsat WHERE playsat.playing = 'Y';

2/ Me
Click on “Me” => direct to Me page => can do 3 things:

-	View order history:

SELECT orders.orderID, orders.totalTix, orders.status, 
orders.title FROM orders 
WHERE orders.username = 'ricklepick';

new version:
SELECT orders.orderID, orders.totalTix, orders.status, orders.title, orders.numSeniorTix * systeminfo.seniorPrice + orders.numChildTix * systeminfo.childPrice + orders.numAdultTix * systeminfo.adultPrice
FROM orders, systeminfo
WHERE orders.username = 'ricklepick'

Replace 'ricklepickle' in the actual program.

-	View saved card:

SELECT payment_info.cardno, payment_info.name, payment_info.expiration 
FROM payment_info WHERE username = 'ricklepick' AND saved = 'y';


Replace 'ricklepickle' in the actual program.

-	View preferred theaters: 

SELECT theatre.name, theatre.street, theatre.city, 
theatre.state, theatre.zip FROM prefers JOIN theatre ON 
prefers.theatreid = theatre.theatreid WHERE 
prefers.username = 'ricklepick';

Replace 'ricklepickle' in the actual program.

3/ Movie
After clicking on a Movie on Now Playing page => customer will be directed here => show release date, rating, length, genre, average rating of the movie.

SELECT movie.title, movie.length, movie.genre, movie.releasedate, avg(review.rating) 
FROM movie JOIN review ON movie.title = review.title
WHERE movie.title = 'Shrek';

Replace 'Shrek' in the actual program.

4/ Overview
Can view synopsis and cast.

SELECT movie.title, movie.cast, movie.synopsis FROM movie WHERE 
title = 'Shrek';

Replace 'Shrek' in the actual program.

5/ Review
Can view reviews on this page. 

SELECT review.title, review.comment, review.rating FROM review WHERE 
title = 'Shrek';

Calculate and show average rating.

SELECT AVG(rating) FROM review WHERE title = 'Shrek';

Replace 'Shrek' in the actual program.

6/ Give Review
Can only give review for movie they have seen.

SELECT orders.status FROM orders
WHERE orders.title = 'Shrek' AND orders.status = 'completed' AND orders.username = 'ricklepick';

Can select rating => title and rating must be filled, comment part might be blank.

INSERT INTO review  VALUES (NULL, 'Shrek', 'Great!', 
5, 'ricklepick');

Replace 'Shrek', 'ricklepick', 'Great!', 5 in the actual program.






	

